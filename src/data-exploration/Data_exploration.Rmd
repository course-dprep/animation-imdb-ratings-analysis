---
title: "**Data Exploration Document**"
date: "`r Sys.Date()`"
author:
  - "Britt van Haaster, Isah Huijbregts, Lars van der Kroft"
  - "Amanda van Lankveld, Amy Quist, Stefan Valentijn"
output:
  pdf_document
---

## Descriptive statistics

In aligning with the focus of the research, four subsets were created were descriptive statistics were calculated of. These included;

- Animation movies
- Non-Animation movies
- Movies released before 2010
- Movies released since 2010

In further understanding the data, a function was created that calculates several descriptives for the different subsets, including the number of observations, range of variables (min and max) and standard deviation:

```{r, echo = FALSE, message = FALSE, warning = FALSE}
#Load library
suppressPackageStartupMessages({
  library(tidyverse)
})

#Read in the data
movies <- read_csv("../../gen/temp/movies_prepped.csv")
```

```{r}

#Function to generate descriptive statistics
inspect_data <- function(df) {
  cat("Generating descriptive statistics...\n")
  cat("\n")
  
  cat('Summary statistics\n')
  print(summary(df))

  cat('Number of observations in subset: ')
  cat(nrow(df))
  cat('\n\n')
  
  cat('Range in runtime:\n')
  print(max(df$runtimeMinutes) - min(df$runtimeMinutes))
  cat('\n')
  
  cat('Standard deviation of runtime:\n')
  print(sd(df$runtimeMinutes))
  cat('\n')
  
  cat('Range in average rating:\n')
  print(max(df$averageRating) - min(df$averageRating))
  cat('\n')
  
  cat('Standard deviation of average rating:\n')
  print(sd(df$averageRating))
  cat('\n')
  
  cat('Range in number of votes:\n')
  print(max(df$numVotes) - min(df$numVotes))
  cat('\n')
  
  cat('Standard deviation of number of votes:\n')
  print(sd(df$numVotes))
  cat('\n')
  
}

```

The Appendix to this documents shows the full output of generating these descriptives. Below, a table is provided that summarises some key statistics.


| Subset        | Observations | Mean runtime minutes | Mean averageratings | SD averageratings | Mean number of votes |
| ------------- | ------------ | -------------------- | ------------------- | ----------------- | -------------------- |
| Animation     | 1,846        | 90.5                 | 6.51                | 1.08              | 43,393               |
| Non-Animation | 64,051       | 96.8                 | 6.22                | 1.17              | 30,608               |
| Before 2010   | 20,537       | 97.0                 | 6.29                | 1.14              | 35,085               |
| Since 2010    | 45,360       | 96.4                 | 6.20                | 1.18              | 29,101               |

As for the observations, the far majority of the dataset contains non-animation movies. In fact, it is possible to calculate the ratio, which comes down to roughly 35 times more non-animation movies than animation movies;

```{r}

ratio_summary <- movies %>%
  summarise(ratio = sum(animation_dummy == "Non-Animation") / sum(animation_dummy == "Animation"))

print(ratio_summary)

```

The *average runtime* is fairly consistent for the different subsets, ranging between 90 and 100 minutes. Animation movies tend to be slightly shorter. When it comes to *average ratings*, animated titles tend to score slightly higher on average, with a mean of 6.5 compared to 6.2 for other genres. There seems to be less variance in the average rating for the startyear subsets. For the *number of votes*, it can be seen that animation movies receive a higher number than non-animation movies.

\newpage

## Visualizations

In visualising the distribution of the four subsets, the **histogram** below provides further insights into this. The figure seems to confirm the oversaturation of the entertainment industry, with an increasing amount of movies (with a dip in the COVID-19 period) since 1995. Over the years, the share of animation movies has increased, yet this is still small in comparison with the non-animation movies.

```{r, echo=FALSE, out.width="60%", fig.align="center"}
# Histogram, amount of movies
knitr::include_graphics("../../gen/output/hist_movies_per_year.png")
```

Since the average rating is the particular interest of this study, it is intriguing to further visualise this variable. The descriptives revealed a higher rating for animation movies when compared to non-animation movies. The **line plot** below further visualises this trend for the release year period of 1995 up to and including 2025. The graph reaffirms that the average rating are close but typically rated somewhat higher for animation movies.

```{r, echo=FALSE, out.width="60%", fig.align="center"}
# Line plot, average rating per year per type
knitr::include_graphics("../../gen/output/line_avg_rating_by_type.png")
```

As the scores from the graph above are on a scale of 0-10, another **smooth plot** can be created to assess the trends in rating on a close scale. Over time, the average rating for animation movies seems declining, while non-animation movies have seen a decline and then a slight increase over the years. Nevertheless, animation movies are still rated higher.

```{r, echo=FALSE, out.width="60%", fig.align="center"}
# Smooth plot, average rating per year per type
knitr::include_graphics("../../gen/output/smooth_avg_rating_by_type.png")
```




## Key insights

Some of the conclusions that come forward after the initial data exploration were:

- The majority of movies are non-animation movies

-	All titles tend to be widely rated, yet the average number of votes per film drops after 2010, consistent with a larger volume of releases spreading audience attention across more movies.

\newpage

## Appendix: Full Data

```{r, echo = FALSE, message = FALSE, warning = FALSE}
#Load library
suppressPackageStartupMessages({
  library(tidyverse)
})

#Read in the data
animation_subset <- read_csv("../../gen/temp/animation_subset.csv")
non_animation_subset <- read_csv("../../gen/temp/non_animation_subset.csv")
before_2010_subset <- read_csv("../../gen/temp/before_2010_subset.csv")
since_2010_subset <- read_csv("../../gen/temp/since_2010_subset.csv")

```

**ANIMATION SUBSET**

```{r, echo = FALSE}
inspect_data(animation_subset)

```

\newpage

**NON-ANIMATION SUBSET**

```{r, echo = FALSE}
inspect_data(animation_subset)

```

\newpage

**BEFORE 2010 SUBSET**

```{r, echo = FALSE}
inspect_data(before_2010_subset)

```

\newpage

**SINCE 2010 SUBSET**

```{r, echo = FALSE}
inspect_data(since_2010_subset)

```
